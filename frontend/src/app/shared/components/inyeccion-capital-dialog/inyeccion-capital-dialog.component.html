<section class="inventory-dialog">
  <header class="dialog-header">
    <div class="dialog-icon">
      <i class="bi bi-bank2"></i>
    </div>
    <div>
      <h2 mat-dialog-title class="dialog-title">Registrar inyección de capital</h2>
      <p class="dialog-subtitle">Captura los refuerzos de liquidez para mantener actualizado el flujo de caja.</p>
    </div>
  </header>

  <div mat-dialog-content class="dialog-content">
    <form [formGroup]="formulario" class="dialog-form">
      <mat-form-field appearance="outline">
        <mat-label>Monto</mat-label>
        <input matInput type="number" min="0" step="0.01" placeholder="Ej. 150000" formControlName="monto" />
        <mat-error *ngIf="formulario.get('monto')?.hasError('required')">Este campo es obligatorio.</mat-error>
        <mat-error *ngIf="formulario.get('monto')?.hasError('min')">El monto debe ser mayor a 0.</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Fecha del movimiento</mat-label>
        <input matInput type="datetime-local" formControlName="fechaRegistro" />
        <mat-error *ngIf="formulario.get('fechaRegistro')?.hasError('required')">
          Debes ingresar la fecha y hora.
        </mat-error>
        <mat-error *ngIf="formulario.get('fechaRegistro')?.hasError('invalid')">Formato de fecha inválido.</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Descripción</mat-label>
        <textarea matInput rows="3" placeholder="Motivo de la inyección" formControlName="descripcion"></textarea>
        <mat-hint>Opcional</mat-hint>
        <mat-error *ngIf="formulario.get('descripcion')?.hasError('maxlength')">Máximo 250 caracteres.</mat-error>
      </mat-form-field>
    </form>
  </div>

  <div mat-dialog-actions class="dialog-actions">
    <button type="button" class="dialog-btn dialog-btn--ghost dialog-btn--compact" (click)="cancelar()">Cancelar</button>
    <button type="button" class="dialog-btn dialog-btn--primary dialog-btn--compact" (click)="guardar()">Registrar</button>
  </div>
</section>
